{"version":3,"sources":["pnotify.buttons.js"],"names":["root","factory","define","amd","exports","module","require","jQuery","PNotify","window","$","prototype","options","buttons","closer","closer_hover","sticker","sticker_hover","show_on_nonblock","labels","close","stick","unstick","classes","pin_up","pin_down","modules","init","notice","that","elem","on","e","nonblock","trigger","css","hide","queueRemove","cancelRemove","bind","styles","attr","children","addClass","append","prependTo","container","remove","update","find","extend","styling","brighttheme","bootstrap3","fontawesome"],"mappings":";;;;AAAA;AACC,WAAUA,IAAV,EAAgBC,OAAhB,EAAyB;AACxB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AAC9C;AACAD,WAAO,iBAAP,EAA0B,CAAC,QAAD,EAAW,SAAX,CAA1B,EAAiDD,OAAjD;AACD,GAHD,MAGO,IAAI,QAAOG,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAArD,EAAkE;AACvE;AACAA,WAAOD,OAAP,GAAiBH,QAAQK,QAAQ,QAAR,CAAR,EAA2BA,QAAQ,WAAR,CAA3B,CAAjB;AACD,GAHM,MAGA;AACL;AACAL,YAAQD,KAAKO,MAAb,EAAqBP,KAAKQ,OAA1B;AACD;AACF,CAXA,EAWC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,YAXD,EAWgD,UAASC,CAAT,EAAYF,OAAZ,EAAoB;AACnEA,UAAQG,SAAR,CAAkBC,OAAlB,CAA0BC,OAA1B,GAAoC;AAClC;AACAC,YAAQ,IAF0B;AAGlC;AACAC,kBAAc,IAJoB;AAKlC;AACAC,aAAS,IANyB;AAOlC;AACAC,mBAAe,IARmB;AASlC;AACAC,sBAAkB,KAVgB;AAWlC;AACAC,YAAQ;AACNC,aAAO,OADD;AAENC,aAAO,OAFD;AAGNC,eAAS;AAHH,KAZ0B;AAiBlC;AACAC,aAAS;AACPT,cAAQ,IADD;AAEPU,cAAQ,IAFD;AAGPC,gBAAU;AAHH;AAlByB,GAApC;AAwBAjB,UAAQG,SAAR,CAAkBe,OAAlB,CAA0Bb,OAA1B,GAAoC;AAClCc,UAAM,cAASC,MAAT,EAAiBhB,OAAjB,EAAyB;AAC7B,UAAIiB,OAAO,IAAX;AACAD,aAAOE,IAAP,CAAYC,EAAZ,CAAe;AACb,sBAAc,oBAASC,CAAT,EAAW;AACvB;AACA,cAAIH,KAAKjB,OAAL,CAAaI,OAAb,KAAyB,EAAEY,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAArD,KAAkEJ,KAAKjB,OAAL,CAAaM,gBAAxG,CAAJ,EAA+H;AAC7HW,iBAAKb,OAAL,CAAakB,OAAb,CAAqB,6BAArB,EAAoDC,GAApD,CAAwD,YAAxD,EAAsE,SAAtE;AACD;AACD,cAAIN,KAAKjB,OAAL,CAAaE,MAAb,KAAwB,EAAEc,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAArD,KAAkEJ,KAAKjB,OAAL,CAAaM,gBAAvG,CAAJ,EAA8H;AAC5HW,iBAAKf,MAAL,CAAYqB,GAAZ,CAAgB,YAAhB,EAA8B,SAA9B;AACD;AACF,SATY;AAUb,sBAAc,oBAASH,CAAT,EAAW;AACvB;AACA,cAAIH,KAAKjB,OAAL,CAAaK,aAAjB,EAAgC;AAC9BY,iBAAKb,OAAL,CAAamB,GAAb,CAAiB,YAAjB,EAA+B,QAA/B;AACD;AACD,cAAIN,KAAKjB,OAAL,CAAaG,YAAjB,EAA+B;AAC7Bc,iBAAKf,MAAL,CAAYqB,GAAZ,CAAgB,YAAhB,EAA8B,QAA9B;AACD;AACF;AAlBY,OAAf;;AAqBA;AACA,WAAKnB,OAAL,GAAeN,EAAE,SAAF,EAAa;AAC1B,iBAAS,oBADiB;AAE1B,qBAAa,QAFa;AAG1B,wBAAgBkB,OAAOhB,OAAP,CAAewB,IAAf,GAAsB,OAAtB,GAAgC,MAHtB;AAI1B,oBAAY,GAJc;AAK1B,iBAASR,OAAOhB,OAAP,CAAewB,IAAf,GAAsBxB,QAAQO,MAAR,CAAeE,KAArC,GAA6CT,QAAQO,MAAR,CAAeG,OAL3C;AAM1B,eAAO;AACL,oBAAU,SADL;AAEL,wBAAcV,QAAQK,aAAR,GAAwB,QAAxB,GAAmC;AAF5C,SANmB;AAU1B,iBAAS,iBAAU;AACjBW,iBAAOhB,OAAP,CAAewB,IAAf,GAAsB,CAACR,OAAOhB,OAAP,CAAewB,IAAtC;AACA,cAAIR,OAAOhB,OAAP,CAAewB,IAAnB,EAAyB;AACvBR,mBAAOS,WAAP;AACD,WAFD,MAEO;AACLT,mBAAOU,YAAP;AACD;AACD5B,YAAE,IAAF,EAAQwB,OAAR,CAAgB,6BAAhB;AACD;AAlByB,OAAb,EAoBdK,IApBc,CAoBT,6BApBS,EAoBsB,YAAU;AAC7C,YAAIf,SAASK,KAAKjB,OAAL,CAAaW,OAAb,CAAqBC,MAArB,KAAgC,IAAhC,GAAuCI,OAAOY,MAAP,CAAchB,MAArD,GAA8DK,KAAKjB,OAAL,CAAaW,OAAb,CAAqBC,MAAhG;AACA,YAAIC,WAAWI,KAAKjB,OAAL,CAAaW,OAAb,CAAqBE,QAArB,KAAkC,IAAlC,GAAyCG,OAAOY,MAAP,CAAcf,QAAvD,GAAkEI,KAAKjB,OAAL,CAAaW,OAAb,CAAqBE,QAAtG;AACAf,UAAE,IAAF,EACC+B,IADD,CACM,OADN,EACeb,OAAOhB,OAAP,CAAewB,IAAf,GAAsBP,KAAKjB,OAAL,CAAaO,MAAb,CAAoBE,KAA1C,GAAkDQ,KAAKjB,OAAL,CAAaO,MAAb,CAAoBG,OADrF,EAECoB,QAFD,GAGCD,IAHD,CAGM,OAHN,EAGe,EAHf,EAICE,QAJD,CAIUf,OAAOhB,OAAP,CAAewB,IAAf,GAAsBZ,MAAtB,GAA+BC,QAJzC,EAKCgB,IALD,CAKM,cALN,EAKsBb,OAAOhB,OAAP,CAAewB,IAAf,GAAsB,OAAtB,GAAgC,MALtD;AAMD,OA7Bc,EA8BdQ,MA9Bc,CA8BP,UA9BO,EA+BdV,OA/Bc,CA+BN,6BA/BM,EAgCdW,SAhCc,CAgCJjB,OAAOkB,SAhCH,CAAf;AAiCA,UAAI,CAAClC,QAAQI,OAAT,IAAqBY,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAAjG,EAAoH;AAClH,aAAKF,OAAL,CAAamB,GAAb,CAAiB,SAAjB,EAA4B,MAA5B;AACD;;AAED;AACA,WAAKrB,MAAL,GAAcJ,EAAE,SAAF,EAAa;AACzB,iBAAS,mBADgB;AAEzB,qBAAa,QAFY;AAGzB,oBAAY,GAHa;AAIzB,iBAASE,QAAQO,MAAR,CAAeC,KAJC;AAKzB,eAAO,EAAC,UAAU,SAAX,EAAsB,cAAcR,QAAQG,YAAR,GAAuB,QAAvB,GAAkC,SAAtE,EALkB;AAMzB,iBAAS,iBAAU;AACjBa,iBAAOmB,MAAP,CAAc,KAAd;AACAlB,eAAKb,OAAL,CAAamB,GAAb,CAAiB,YAAjB,EAA+B,QAA/B;AACAN,eAAKf,MAAL,CAAYqB,GAAZ,CAAgB,YAAhB,EAA8B,QAA9B;AACD;AAVwB,OAAb,EAYbS,MAZa,CAYNlC,EAAE,UAAF,EAAc,EAAC,SAASE,QAAQW,OAAR,CAAgBT,MAAhB,KAA2B,IAA3B,GAAkCc,OAAOY,MAAP,CAAc1B,MAAhD,GAAyDF,QAAQW,OAAR,CAAgBT,MAAnF,EAAd,CAZM,EAab+B,SAba,CAaHjB,OAAOkB,SAbJ,CAAd;AAcA,UAAI,CAAClC,QAAQE,MAAT,IAAoBc,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAAhG,EAAmH;AACjH,aAAKJ,MAAL,CAAYqB,GAAZ,CAAgB,SAAhB,EAA2B,MAA3B;AACD;AACF,KAhFiC;AAiFlCa,YAAQ,gBAASpB,MAAT,EAAiBhB,OAAjB,EAAyB;AAC/B;AACA,UAAI,CAACA,QAAQE,MAAT,IAAoBc,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAAhG,EAAmH;AACjH,aAAKJ,MAAL,CAAYqB,GAAZ,CAAgB,SAAhB,EAA2B,MAA3B;AACD,OAFD,MAEO,IAAIvB,QAAQE,MAAZ,EAAoB;AACzB,aAAKA,MAAL,CAAYqB,GAAZ,CAAgB,SAAhB,EAA2B,OAA3B;AACD;AACD,UAAI,CAACvB,QAAQI,OAAT,IAAqBY,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAAjG,EAAoH;AAClH,aAAKF,OAAL,CAAamB,GAAb,CAAiB,SAAjB,EAA4B,MAA5B;AACD,OAFD,MAEO,IAAIvB,QAAQI,OAAZ,EAAqB;AAC1B,aAAKA,OAAL,CAAamB,GAAb,CAAiB,SAAjB,EAA4B,OAA5B;AACD;AACD;AACA,WAAKnB,OAAL,CAAakB,OAAb,CAAqB,6BAArB;AACA;AACA,WAAKpB,MAAL,CAAYmC,IAAZ,CAAiB,MAAjB,EAAyBR,IAAzB,CAA8B,OAA9B,EAAuC,EAAvC,EAA2CE,QAA3C,CAAoD/B,QAAQW,OAAR,CAAgBT,MAAhB,KAA2B,IAA3B,GAAkCc,OAAOY,MAAP,CAAc1B,MAAhD,GAAyDF,QAAQW,OAAR,CAAgBT,MAA7H;AACA;AACA,UAAIF,QAAQK,aAAZ,EAA2B;AACzB,aAAKD,OAAL,CAAamB,GAAb,CAAiB,YAAjB,EAA+B,QAA/B;AACD,OAFD,MAEO,IAAI,EAAEP,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAA1E,CAAJ,EAAiG;AACtG,aAAKF,OAAL,CAAamB,GAAb,CAAiB,YAAjB,EAA+B,SAA/B;AACD;AACD,UAAIvB,QAAQG,YAAZ,EAA0B;AACxB,aAAKD,MAAL,CAAYqB,GAAZ,CAAgB,YAAhB,EAA8B,QAA9B;AACD,OAFD,MAEO,IAAI,EAAEP,OAAOhB,OAAP,CAAeqB,QAAf,IAA2BL,OAAOhB,OAAP,CAAeqB,QAAf,CAAwBA,QAAnD,IAA+D,CAACrB,QAAQM,gBAA1E,CAAJ,EAAiG;AACtG,aAAKJ,MAAL,CAAYqB,GAAZ,CAAgB,YAAhB,EAA8B,SAA9B;AACD;AACF;AA5GiC,GAApC;AA8GAzB,IAAEwC,MAAF,CAAS1C,QAAQ2C,OAAR,CAAgBC,WAAzB,EAAsC;AACpCtC,YAAQ,yBAD4B;AAEpCU,YAAQ,0BAF4B;AAGpCC,cAAU;AAH0B,GAAtC;AAKAf,IAAEwC,MAAF,CAAS1C,QAAQ2C,OAAR,CAAgBE,UAAzB,EAAqC;AACnCvC,YAAQ,4BAD2B;AAEnCU,YAAQ,2BAF2B;AAGnCC,cAAU;AAHyB,GAArC;AAKAf,IAAEwC,MAAF,CAAS1C,QAAQ2C,OAAR,CAAgBG,WAAzB,EAAsC;AACpCxC,YAAQ,aAD4B;AAEpCU,YAAQ,aAF4B;AAGpCC,cAAU;AAH0B,GAAtC;AAKA,SAAOjB,OAAP;AACD,CAlKA,CAAD","file":"src/pnotify.buttons.js","sourceRoot":"../","sourcesContent":["// Buttons\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as a module.\n    define('pnotify.buttons', ['jquery', 'pnotify'], factory);\n  } else if (typeof exports === 'object' && typeof module !== 'undefined') {\n    // CommonJS\n    module.exports = factory(require('jquery'), require('./pnotify'));\n  } else {\n    // Browser globals\n    factory(root.jQuery, root.PNotify);\n  }\n}(typeof window !== \"undefined\" ? window : this, function($, PNotify){\n  PNotify.prototype.options.buttons = {\n    // Provide a button for the user to manually close the notice.\n    closer: true,\n    // Only show the closer button on hover.\n    closer_hover: true,\n    // Provide a button for the user to manually stick the notice.\n    sticker: true,\n    // Only show the sticker button on hover.\n    sticker_hover: true,\n    // Show the buttons even when the nonblock module is in use.\n    show_on_nonblock: false,\n    // The various displayed text, helps facilitating internationalization.\n    labels: {\n      close: \"Close\",\n      stick: \"Stick\",\n      unstick: \"Unstick\"\n    },\n    // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n    classes: {\n      closer: null,\n      pin_up: null,\n      pin_down: null\n    }\n  };\n  PNotify.prototype.modules.buttons = {\n    init: function(notice, options){\n      var that = this;\n      notice.elem.on({\n        \"mouseenter\": function(e){\n          // Show the buttons.\n          if (that.options.sticker && (!(notice.options.nonblock && notice.options.nonblock.nonblock) || that.options.show_on_nonblock)) {\n            that.sticker.trigger(\"pnotify:buttons:toggleStick\").css(\"visibility\", \"visible\");\n          }\n          if (that.options.closer && (!(notice.options.nonblock && notice.options.nonblock.nonblock) || that.options.show_on_nonblock)) {\n            that.closer.css(\"visibility\", \"visible\");\n          }\n        },\n        \"mouseleave\": function(e){\n          // Hide the buttons.\n          if (that.options.sticker_hover) {\n            that.sticker.css(\"visibility\", \"hidden\");\n          }\n          if (that.options.closer_hover) {\n            that.closer.css(\"visibility\", \"hidden\");\n          }\n        }\n      });\n\n      // Provide a button to stick the notice.\n      this.sticker = $(\"<div />\", {\n        \"class\": \"ui-pnotify-sticker\",\n        \"aria-role\": \"button\",\n        \"aria-pressed\": notice.options.hide ? \"false\" : \"true\",\n        \"tabindex\": \"0\",\n        \"title\": notice.options.hide ? options.labels.stick : options.labels.unstick,\n        \"css\": {\n          \"cursor\": \"pointer\",\n          \"visibility\": options.sticker_hover ? \"hidden\" : \"visible\"\n        },\n        \"click\": function(){\n          notice.options.hide = !notice.options.hide;\n          if (notice.options.hide) {\n            notice.queueRemove();\n          } else {\n            notice.cancelRemove();\n          }\n          $(this).trigger(\"pnotify:buttons:toggleStick\");\n        }\n      })\n      .bind(\"pnotify:buttons:toggleStick\", function(){\n        var pin_up = that.options.classes.pin_up === null ? notice.styles.pin_up : that.options.classes.pin_up;\n        var pin_down = that.options.classes.pin_down === null ? notice.styles.pin_down : that.options.classes.pin_down;\n        $(this)\n        .attr(\"title\", notice.options.hide ? that.options.labels.stick : that.options.labels.unstick)\n        .children()\n        .attr(\"class\", \"\")\n        .addClass(notice.options.hide ? pin_up : pin_down)\n        .attr(\"aria-pressed\", notice.options.hide ? \"false\" : \"true\");\n      })\n      .append(\"<span />\")\n      .trigger(\"pnotify:buttons:toggleStick\")\n      .prependTo(notice.container);\n      if (!options.sticker || (notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.sticker.css(\"display\", \"none\");\n      }\n\n      // Provide a button to close the notice.\n      this.closer = $(\"<div />\", {\n        \"class\": \"ui-pnotify-closer\",\n        \"aria-role\": \"button\",\n        \"tabindex\": \"0\",\n        \"title\": options.labels.close,\n        \"css\": {\"cursor\": \"pointer\", \"visibility\": options.closer_hover ? \"hidden\" : \"visible\"},\n        \"click\": function(){\n          notice.remove(false);\n          that.sticker.css(\"visibility\", \"hidden\");\n          that.closer.css(\"visibility\", \"hidden\");\n        }\n      })\n      .append($(\"<span />\", {\"class\": options.classes.closer === null ? notice.styles.closer : options.classes.closer}))\n      .prependTo(notice.container);\n      if (!options.closer || (notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.closer.css(\"display\", \"none\");\n      }\n    },\n    update: function(notice, options){\n      // Update the sticker and closer buttons.\n      if (!options.closer || (notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.closer.css(\"display\", \"none\");\n      } else if (options.closer) {\n        this.closer.css(\"display\", \"block\");\n      }\n      if (!options.sticker || (notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.sticker.css(\"display\", \"none\");\n      } else if (options.sticker) {\n        this.sticker.css(\"display\", \"block\");\n      }\n      // Update the sticker icon.\n      this.sticker.trigger(\"pnotify:buttons:toggleStick\");\n      // Update the close icon.\n      this.closer.find(\"span\").attr(\"class\", \"\").addClass(options.classes.closer === null ? notice.styles.closer : options.classes.closer);\n      // Update the hover status of the buttons.\n      if (options.sticker_hover) {\n        this.sticker.css(\"visibility\", \"hidden\");\n      } else if (!(notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.sticker.css(\"visibility\", \"visible\");\n      }\n      if (options.closer_hover) {\n        this.closer.css(\"visibility\", \"hidden\");\n      } else if (!(notice.options.nonblock && notice.options.nonblock.nonblock && !options.show_on_nonblock)) {\n        this.closer.css(\"visibility\", \"visible\");\n      }\n    }\n  };\n  $.extend(PNotify.styling.brighttheme, {\n    closer: \"brighttheme-icon-closer\",\n    pin_up: \"brighttheme-icon-sticker\",\n    pin_down: \"brighttheme-icon-sticker brighttheme-icon-stuck\"\n  });\n  $.extend(PNotify.styling.bootstrap3, {\n    closer: \"glyphicon glyphicon-remove\",\n    pin_up: \"glyphicon glyphicon-pause\",\n    pin_down: \"glyphicon glyphicon-play\"\n  });\n  $.extend(PNotify.styling.fontawesome, {\n    closer: \"fa fa-times\",\n    pin_up: \"fa fa-pause\",\n    pin_down: \"fa fa-play\"\n  });\n  return PNotify;\n}));\n"]}