"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};!function(o,t){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(o.jQuery,o.PNotify)}("undefined"!=typeof window?window:void 0,function(o,t){var i,e=function(o,t){return(e="Notification"in window?function(o,t){return new Notification(o,t)}:"mozNotification"in navigator?function(o,t){return navigator.mozNotification.createNotification(o,t.body,t.icon).show()}:"webkitNotifications"in window?function(o,t){return window.webkitNotifications.createNotification(t.icon,o,t.body)}:function(o,t){return null})(o,t)};return t.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null},t.prototype.modules.desktop={genNotice:function(o,t){null===t.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+o.options.type+".png":!1===t.icon?this.icon=null:this.icon=t.icon,null!==this.tag&&null===t.tag||(this.tag=null===t.tag?"PNotify-"+Math.round(1e6*Math.random()):t.tag),o.desktop=e(t.title||o.options.title,{icon:this.icon,body:t.text||o.options.text,tag:this.tag}),!("close"in o.desktop)&&"cancel"in o.desktop&&(o.desktop.close=function(){o.desktop.cancel()}),o.desktop.onclick=function(){o.elem.trigger("click")},o.desktop.onclose=function(){"closing"!==o.state&&"closed"!==o.state&&o.remove()}},init:function(o,e){if(e.desktop){if(0!==(i=t.desktop.checkPermission()))return void(e.fallback||(o.options.auto_display=!1));this.genNotice(o,e)}},update:function(o,t,e){0!==i&&t.fallback||!t.desktop||this.genNotice(o,t)},beforeOpen:function(o,t){0!==i&&t.fallback||!t.desktop||o.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(o,t){0!==i&&t.fallback||!t.desktop||(o.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in o.desktop&&o.desktop.show())},beforeClose:function(o,t){0!==i&&t.fallback||!t.desktop||o.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(o,t){0!==i&&t.fallback||!t.desktop||(o.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in o.desktop&&o.desktop.close())}},t.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},i=t.desktop.checkPermission(),t});
//# sourceMappingURL=pnotify.desktop.js.map